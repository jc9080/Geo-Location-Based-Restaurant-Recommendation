{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\src\\\\post.js\";\nimport React, { Component } from 'react';\nimport { TextField, Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, RadioGroup, FormControlLabel, Radio, Typography, AppBar, Toolbar } from '@material-ui/core';\nimport DoneIcon from '@material-ui/icons/Done';\n\nvar Post =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Post, _Component);\n\n  function Post(props) {\n    var _this;\n\n    _classCallCheck(this, Post);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Post).call(this, props));\n\n    _this.handleChange = function (name) {\n      return function (event) {\n        _this.setState(_defineProperty({}, name, event.target.value));\n\n        console.log(_this.state);\n      };\n    };\n\n    _this.handleNoteClickOpen = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handleNoteClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.handleNoteSubmit = function (event) {\n      var url = 'http://localhost:3000/querys/newpost';\n      var formBody = [];\n\n      for (var property in _this.state) {\n        var encodedKey = encodeURIComponent(property);\n        var encodedValue = encodeURIComponent(_this.state[property]);\n        formBody.push(encodedKey + \"=\" + encodedValue);\n      }\n\n      formBody = formBody.join(\"&\");\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: formBody\n      }).then(function (response) {\n        if (response.status >= 400) {\n          throw new Error(\"Bad response from server\");\n        } else {\n          return response.json();\n        }\n      }).then(function (data) {\n        if (data) {}\n      });\n\n      _this.handleNoteClickOpen();\n    };\n\n    _this.state = {\n      startTime: \"7\",\n      endTime: \"8\",\n      ntext: \"\",\n      tags: \"\",\n      open: false,\n      privacy: \"3\",\n      lat: _this.props.lat,\n      lng: _this.props.lng,\n      lname: _this.props.lname,\n      uid: _this.props.uid\n    };\n    return _this;\n  }\n\n  _createClass(Post, [{\n    key: \"validateNoteForm\",\n    value: function validateNoteForm() {\n      return this.state.ntext.length > 0 && this.state.tags.length > 0;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var that = this;\n      var url = 'http://localhost:3000/querys/addlocation';\n      var formBody = [];\n\n      for (var property in this.state) {\n        var encodedKey = encodeURIComponent(property);\n        var encodedValue = encodeURIComponent(this.state[property]);\n        formBody.push(encodedKey + \"=\" + encodedValue);\n      }\n\n      formBody = formBody.join(\"&\");\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: formBody\n      }).then(function (response) {\n        if (response.status >= 400) {\n          throw new Error(\"Bad response from server\");\n        } else {\n          return response.json();\n        }\n      }).then(function (data) {\n        if (data) {\n          that.setState({\n            lid: data.lid\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        position: \"fixed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h6\",\n        color: \"inherit\",\n        align: \"left\",\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Post new note\"), React.createElement(Button, {\n        color: \"inherit\",\n        disabled: !this.validateNoteForm(),\n        onClick: this.handleNoteSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(DoneIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      })))), React.createElement(\"form\", {\n        id: \"noteForm\",\n        autoComplete: \"off\",\n        style: {\n          marginLeft: 50,\n          marginRight: 50,\n          marginTop: 100\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h6\",\n        gutterBottom: \"gutterBottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Current location: \", this.state.lname), React.createElement(TextField, {\n        id: \"ntext\",\n        label: \"Note\",\n        required: \"required\",\n        multiline: \"multiline\",\n        rowsMax: \"4\",\n        value: this.state.ntext,\n        onChange: this.handleChange('ntext'),\n        fullWidth: \"fullWidth\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"tags\",\n        label: \"Tags\",\n        required: \"required\",\n        value: this.state.tags,\n        onChange: this.handleChange('tags'),\n        fullWidth: \"fullWidth\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        helperText: \"Splite tags by space\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(RadioGroup, {\n        row: \"row\",\n        value: this.state.privacy,\n        onChange: this.handleChange('privacy'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(FormControlLabel, {\n        value: \"3\",\n        control: React.createElement(Radio, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }),\n        label: \"Public\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }), React.createElement(FormControlLabel, {\n        value: \"2\",\n        control: React.createElement(Radio, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }),\n        label: \"Friends Only\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }), React.createElement(FormControlLabel, {\n        value: \"1\",\n        control: React.createElement(Radio, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }),\n        label: \"Me Only\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      })), React.createElement(TextField, {\n        id: \"startTime\",\n        label: \"Start Time\",\n        value: this.state.startTime,\n        type: \"number\",\n        onChange: this.handleChange('startTime'),\n        margin: \"normal\",\n        variant: \"outlined\",\n        InputProps: {\n          inputProps: {\n            min: 0,\n            max: 24\n          }\n        },\n        helperText: \"24-hour\",\n        style: {\n          marginLeft: 50,\n          marginRight: 50\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"endTime\",\n        label: \"End Time\",\n        value: this.state.endTime,\n        type: \"number\",\n        onChange: this.handleChange('endTime'),\n        margin: \"normal\",\n        variant: \"outlined\",\n        InputProps: {\n          inputProps: {\n            min: 0,\n            max: 24\n          }\n        },\n        style: {\n          marginLeft: 50,\n          marginRight: 50\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      })), React.createElement(Dialog, {\n        open: this.state.open,\n        onClose: this.handleNoteClose,\n        \"aria-labelledby\": \"alert-dialog-title\",\n        \"aria-describedby\": \"alert-dialog-description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        id: \"noteAlert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, \"Alert\"), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(DialogContentText, {\n        id: \"noteAlertText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"New note has been submitted.\")), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.handleNoteClose,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Close\"))));\n    }\n  }]);\n\n  return Post;\n}(Component);\n\nexport default Post;","map":{"version":3,"sources":["C:\\Users\\user\\Desktop\\oingo\\oingo-backend\\client\\src\\post.js"],"names":["React","Component","TextField","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","RadioGroup","FormControlLabel","Radio","Typography","AppBar","Toolbar","DoneIcon","Post","props","handleChange","name","event","setState","target","value","console","log","state","handleNoteClickOpen","open","handleNoteClose","handleNoteSubmit","url","formBody","property","encodedKey","encodeURIComponent","encodedValue","push","join","fetch","method","headers","body","then","response","status","Error","json","data","startTime","endTime","ntext","tags","privacy","lat","lng","lname","uid","length","that","lid","flex","validateNoteForm","marginLeft","marginRight","marginTop","inputProps","min","max"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {\r\n  TextField,\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  RadioGroup,\r\n  FormControlLabel,\r\n  Radio,\r\n  Typography,\r\n  AppBar,\r\n  Toolbar\r\n} from '@material-ui/core';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\n\r\nclass Post extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      startTime: \"7\",\r\n      endTime: \"8\",\r\n      ntext: \"\",\r\n      tags: \"\",\r\n      open: false,\r\n      privacy: \"3\",\r\n      lat: this.props.lat,\r\n      lng: this.props.lng,\r\n      lname: this.props.lname,\r\n      uid: this.props.uid\r\n    }\r\n  }\r\n\r\n  handleChange = name => event => {\r\n    this.setState({[name]: event.target.value});\r\n    console.log(this.state);\r\n  };\r\n\r\n  validateNoteForm() {\r\n    return this.state.ntext.length > 0 && this.state.tags.length > 0;\r\n  }\r\n\r\n  handleNoteClickOpen = () => {\r\n    this.setState({open: true});\r\n  };\r\n\r\n  handleNoteClose = () => {\r\n    this.setState({open: false});\r\n  };\r\n\r\n  componentDidMount() {\r\n    var that = this;\r\n\r\n    var url = 'http://localhost:3000/querys/addlocation'\r\n    var formBody = [];\r\n    for (var property in this.state) {\r\n      var encodedKey = encodeURIComponent(property);\r\n      var encodedValue = encodeURIComponent(this.state[property]);\r\n      formBody.push(encodedKey + \"=\" + encodedValue);\r\n    }\r\n    formBody = formBody.join(\"&\");\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      },\r\n      body: formBody\r\n    }).then(function(response) {\r\n      if (response.status >= 400) {\r\n        throw new Error(\"Bad response from server\");\r\n      } else {\r\n        return response.json();\r\n      }\r\n    }).then(function(data) {\r\n      if (data) {\r\n        that.setState({lid: data.lid})\r\n      }\r\n    });\r\n  }\r\n\r\n  handleNoteSubmit = event => {\r\n    var url = 'http://localhost:3000/querys/newpost'\r\n    var formBody = [];\r\n    for (var property in this.state) {\r\n      var encodedKey = encodeURIComponent(property);\r\n      var encodedValue = encodeURIComponent(this.state[property]);\r\n      formBody.push(encodedKey + \"=\" + encodedValue);\r\n    }\r\n    formBody = formBody.join(\"&\");\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      },\r\n      body: formBody\r\n    }).then(function(response) {\r\n      if (response.status >= 400) {\r\n        throw new Error(\"Bad response from server\");\r\n      } else {\r\n        return response.json();\r\n      }\r\n    }).then(function(data) {\r\n      if (data) {}\r\n    });\r\n    this.handleNoteClickOpen();\r\n  }\r\n\r\n  render() {\r\n    return (<div className=\"App\">\r\n      <AppBar position=\"fixed\">\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" color=\"inherit\" align=\"left\" style={{\r\n              flex: 1\r\n            }}>\r\n            Post new note\r\n          </Typography>\r\n          <Button color=\"inherit\" disabled={!this.validateNoteForm()} onClick={this.handleNoteSubmit}><DoneIcon/></Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n\r\n      <form id=\"noteForm\" autoComplete=\"off\" style={{\r\n          marginLeft: 50,\r\n          marginRight: 50,\r\n          marginTop: 100\r\n        }}>\r\n        <Typography variant=\"h6\" gutterBottom=\"gutterBottom\">\r\n          Current location: {this.state.lname}\r\n        </Typography>\r\n        <TextField id=\"ntext\" label=\"Note\" required=\"required\" multiline=\"multiline\" rowsMax=\"4\" value={this.state.ntext} onChange={this.handleChange('ntext')} fullWidth=\"fullWidth\" margin=\"normal\" variant=\"outlined\"/>\r\n        <TextField id=\"tags\" label=\"Tags\" required=\"required\" value={this.state.tags} onChange={this.handleChange('tags')} fullWidth=\"fullWidth\" margin=\"normal\" variant=\"outlined\" helperText=\"Splite tags by space\"/>\r\n        <br/>\r\n        <br/>\r\n        <RadioGroup row=\"row\" value={this.state.privacy} onChange={this.handleChange('privacy')}>\r\n          <FormControlLabel value=\"3\" control={<Radio />} label=\"Public\"/>\r\n          <FormControlLabel value=\"2\" control={<Radio />} label=\"Friends Only\"/>\r\n          <FormControlLabel value=\"1\" control={<Radio />} label=\"Me Only\"/>\r\n        </RadioGroup>\r\n        <TextField id=\"startTime\" label=\"Start Time\" value={this.state.startTime} type=\"number\" onChange={this.handleChange('startTime')} margin=\"normal\" variant=\"outlined\" InputProps={{\r\n            inputProps: {\r\n              min: 0,\r\n              max: 24\r\n            }\r\n          }} helperText=\"24-hour\" style={{\r\n            marginLeft: 50,\r\n            marginRight: 50\r\n          }}/>\r\n        <TextField id=\"endTime\" label=\"End Time\" value={this.state.endTime} type=\"number\" onChange={this.handleChange('endTime')} margin=\"normal\" variant=\"outlined\" InputProps={{\r\n            inputProps: {\r\n              min: 0,\r\n              max: 24\r\n            }\r\n          }} style={{\r\n            marginLeft: 50,\r\n            marginRight: 50\r\n          }}/>\r\n\r\n      </form>\r\n\r\n      <Dialog open={this.state.open} onClose={this.handleNoteClose} aria-labelledby=\"alert-dialog-title\" aria-describedby=\"alert-dialog-description\">\r\n        <DialogTitle id=\"noteAlert\">{\"Alert\"}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"noteAlertText\">\r\n            New note has been submitted.\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={this.handleNoteClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>);\r\n  }\r\n}\r\n\r\nexport default Post;\r\n"]},"metadata":{},"sourceType":"module"}