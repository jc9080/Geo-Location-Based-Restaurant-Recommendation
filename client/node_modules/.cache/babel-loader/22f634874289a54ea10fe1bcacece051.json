{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\src\\\\note.js\";\nimport React, { Component } from 'react';\nimport { TextField, AppBar, Toolbar, Typography, List, ListItem, Avatar, ListItemText, Button, Dialog, DialogActions, DialogContent, DialogTitle } from '@material-ui/core';\nimport axios from 'axios';\nimport ChatBubbleIcon from '@material-ui/icons/ChatBubble';\nimport AddIcon from '@material-ui/icons/Add';\n\nvar note =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(note, _Component);\n\n  function note(props) {\n    var _this;\n\n    _classCallCheck(this, note);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(note).call(this, props));\n\n    _this.handleCommentOpen = function () {\n      _this.setState({\n        commentOpen: true\n      });\n    };\n\n    _this.handleCommentClose = function () {\n      _this.setState({\n        commentOpen: false\n      });\n    };\n\n    _this.handleCommentChange = function (event) {\n      _this.setState({\n        comment: event.target.value\n      });\n\n      console.log(_this.state);\n    };\n\n    _this.handleCommentSubmit = function () {\n      var url = 'http://localhost:3000/querys/addcomment';\n      var formBody = [];\n\n      for (var property in _this.state) {\n        var encodedKey = encodeURIComponent(property);\n        var encodedValue = encodeURIComponent(_this.state[property]);\n        formBody.push(encodedKey + \"=\" + encodedValue);\n      }\n\n      formBody = formBody.join(\"&\");\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: formBody\n      }).then(function (response) {\n        if (response.status >= 400) {\n          throw new Error(\"Bad response from server\");\n        } else if (response.status === 200) {\n          return response.json();\n        }\n      }).then(function (nothing) {\n        window.location.reload();\n      });\n    };\n\n    _this.state = {\n      nid: 0,\n      commentOpen: false,\n      comment: \"\",\n      uid: _this.props.location.state.uid\n    };\n    return _this;\n  }\n\n  _createClass(note, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setState({\n        nid: this.props.match.params.nid\n      });\n      var that = this;\n      var url = 'http://localhost:3000/querys/notes/' + this.props.match.params.nid;\n      axios.get(url).then(function (response) {\n        var result = response.data[0];\n        console.log(result);\n\n        _this2.setState({\n          username: result.username,\n          ntext: result.ntext,\n          lname: result.lname,\n          startdate: result.startdate,\n          enddate: result.enddate\n        });\n\n        var url = 'http://localhost:3000/querys/getcomments';\n        var formBody = [];\n\n        for (var property in _this2.state) {\n          var encodedKey = encodeURIComponent(property);\n          var encodedValue = encodeURIComponent(_this2.state[property]);\n          formBody.push(encodedKey + \"=\" + encodedValue);\n        }\n\n        formBody = formBody.join(\"&\");\n        fetch(url, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          },\n          body: formBody\n        }).then(function (response) {\n          if (response.status >= 400) {\n            throw new Error(\"Bad response from server\");\n          } else if (response.status === 200) {\n            return response.json();\n          }\n        }).then(function (comments) {\n          that.setState({\n            comments: comments\n          });\n          console.log(that.state);\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var ListComments = this.state.comments && this.state.comments.map(function (comment, index) {\n        return React.createElement(ListItem, {\n          key: comment.cid,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, React.createElement(Avatar, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, React.createElement(ChatBubbleIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        })), React.createElement(ListItemText, {\n          primary: comment.ctext,\n          secondary: comment.username,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }));\n      });\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        position: \"fixed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h6\",\n        color: \"inherit\",\n        align: \"left\",\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"Note\"), React.createElement(Button, {\n        color: \"inherit\",\n        onClick: this.handleCommentOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(AddIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        style: {\n          marginTop: 100\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h6\",\n        gutterBottom: \"gutterBottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"Username: \", this.state.username), React.createElement(Typography, {\n        variant: \"h6\",\n        gutterBottom: \"gutterBottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Note Text: \", this.state.ntext), React.createElement(Typography, {\n        variant: \"h6\",\n        gutterBottom: \"gutterBottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Location: \", this.state.lname), React.createElement(Typography, {\n        variant: \"h6\",\n        gutterBottom: \"gutterBottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Start time: \", this.state.startdate), React.createElement(Typography, {\n        variant: \"h6\",\n        gutterBottom: \"gutterBottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"End time: \", this.state.enddate)), React.createElement(List, {\n        style: {\n          paddingBottom: '100px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, ListComments), React.createElement(Dialog, {\n        open: this.state.commentOpen,\n        onClose: this.handleCommentClose,\n        \"aria-labelledby\": \"alert-dialog-title\",\n        \"aria-describedby\": \"alert-dialog-description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        id: \"comment\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"Comment\"), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"comment\",\n        label: \"Comment below\",\n        value: this.state.comment,\n        onChange: this.handleCommentChange,\n        fullWidth: \"fullWidth\",\n        margin: \"normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      })), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.handleCommentSubmit,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Apply\"), React.createElement(Button, {\n        onClick: this.handleCommentClose,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Close\"))));\n    }\n  }]);\n\n  return note;\n}(Component);\n\nexport default note;","map":{"version":3,"sources":["C:\\Users\\user\\Desktop\\oingo\\oingo-backend\\client\\src\\note.js"],"names":["React","Component","TextField","AppBar","Toolbar","Typography","List","ListItem","Avatar","ListItemText","Button","Dialog","DialogActions","DialogContent","DialogTitle","axios","ChatBubbleIcon","AddIcon","note","props","handleCommentOpen","setState","commentOpen","handleCommentClose","handleCommentChange","event","comment","target","value","console","log","state","handleCommentSubmit","url","formBody","property","encodedKey","encodeURIComponent","encodedValue","push","join","fetch","method","headers","body","then","response","status","Error","json","nothing","window","location","reload","nid","uid","match","params","that","get","result","data","username","ntext","lname","startdate","enddate","comments","ListComments","map","index","cid","ctext","flex","marginTop","paddingBottom"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,SAAR,EAAmBC,MAAnB,EAA2BC,OAA3B,EAAoCC,UAApC,EAAgDC,IAAhD,EAAsDC,QAAtD,EAAgEC,MAAhE,EAAwEC,YAAxE,EAAsFC,MAAtF,EAA+FC,MAA/F,EACEC,aADF,EAEEC,aAFF,EAGEC,WAHF,QAGqB,mBAHrB;AAIA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,OAAOC,OAAP,MAAoB,wBAApB;;IAEMC,I;;;;;AACJ,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8EAAMA,KAAN;;AADiB,UAUnBC,iBAVmB,GAUC,YAAM;AACxB,YAAKC,QAAL,CAAc;AAACC,QAAAA,WAAW,EAAE;AAAd,OAAd;AACD,KAZkB;;AAAA,UAcnBC,kBAdmB,GAcE,YAAM;AACzB,YAAKF,QAAL,CAAc;AAACC,QAAAA,WAAW,EAAE;AAAd,OAAd;AACD,KAhBkB;;AAAA,UAkBnBE,mBAlBmB,GAkBG,UAAAC,KAAK,EAAI;AAC7B,YAAKJ,QAAL,CAAc;AACZK,QAAAA,OAAO,EAAED,KAAK,CAACE,MAAN,CAAaC;AADV,OAAd;;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAjB;AACD,KAvBkB;;AAAA,UAyBnBC,mBAzBmB,GAyBE,YAAM;AACzB,UAAIC,GAAG,GAAG,yCAAV;AACA,UAAIC,QAAQ,GAAG,EAAf;;AACA,WAAK,IAAIC,QAAT,IAAqB,MAAKJ,KAA1B,EAAiC;AAC/B,YAAIK,UAAU,GAAGC,kBAAkB,CAACF,QAAD,CAAnC;AACA,YAAIG,YAAY,GAAGD,kBAAkB,CAAC,MAAKN,KAAL,CAAWI,QAAX,CAAD,CAArC;AACAD,QAAAA,QAAQ,CAACK,IAAT,CAAcH,UAAU,GAAG,GAAb,GAAmBE,YAAjC;AACD;;AACDJ,MAAAA,QAAQ,GAAGA,QAAQ,CAACM,IAAT,CAAc,GAAd,CAAX;AAEAC,MAAAA,KAAK,CAACR,GAAD,EAAM;AACTS,QAAAA,MAAM,EAAE,MADC;AAETC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFA;AAKTC,QAAAA,IAAI,EAAEV;AALG,OAAN,CAAL,CAMGW,IANH,CAMQ,UAASC,QAAT,EAAmB;AACzB,YAAIA,QAAQ,CAACC,MAAT,IAAmB,GAAvB,EAA4B;AAC1B,gBAAM,IAAIC,KAAJ,CAAU,0BAAV,CAAN;AACD,SAFD,MAEO,IAAIF,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAClC,iBAAOD,QAAQ,CAACG,IAAT,EAAP;AACD;AACF,OAZD,EAYGJ,IAZH,CAYQ,UAASK,OAAT,EAAkB;AACxBC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACD,OAdD;AAeD,KAlDkB;;AAEjB,UAAKtB,KAAL,GAAa;AACXuB,MAAAA,GAAG,EAAE,CADM;AAEXhC,MAAAA,WAAW,EAAE,KAFF;AAGXI,MAAAA,OAAO,EAAC,EAHG;AAIX6B,MAAAA,GAAG,EAAE,MAAKpC,KAAL,CAAWiC,QAAX,CAAoBrB,KAApB,CAA0BwB;AAJpB,KAAb;AAFiB;AAQlB;;;;wCA4CmB;AAAA;;AAClB,WAAKlC,QAAL,CAAc;AAACiC,QAAAA,GAAG,EAAC,KAAKnC,KAAL,CAAWqC,KAAX,CAAiBC,MAAjB,CAAwBH;AAA7B,OAAd;AACA,UAAII,IAAI,GAAG,IAAX;AACA,UAAIzB,GAAG,GAAG,wCAAsC,KAAKd,KAAL,CAAWqC,KAAX,CAAiBC,MAAjB,CAAwBH,GAAxE;AACAvC,MAAAA,KAAK,CAAC4C,GAAN,CAAU1B,GAAV,EAAeY,IAAf,CAAoB,UAAAC,QAAQ,EAAI;AAC9B,YAAIc,MAAM,GAAGd,QAAQ,CAACe,IAAT,CAAc,CAAd,CAAb;AACAhC,QAAAA,OAAO,CAACC,GAAR,CAAY8B,MAAZ;;AACA,QAAA,MAAI,CAACvC,QAAL,CAAc;AACZyC,UAAAA,QAAQ,EAAEF,MAAM,CAACE,QADL;AAEZC,UAAAA,KAAK,EAAEH,MAAM,CAACG,KAFF;AAGZC,UAAAA,KAAK,EAAEJ,MAAM,CAACI,KAHF;AAIZC,UAAAA,SAAS,EAAEL,MAAM,CAACK,SAJN;AAKZC,UAAAA,OAAO,EAAEN,MAAM,CAACM;AALJ,SAAd;;AAQA,YAAIjC,GAAG,GAAG,0CAAV;AACA,YAAIC,QAAQ,GAAG,EAAf;;AACA,aAAK,IAAIC,QAAT,IAAqB,MAAI,CAACJ,KAA1B,EAAiC;AAC/B,cAAIK,UAAU,GAAGC,kBAAkB,CAACF,QAAD,CAAnC;AACA,cAAIG,YAAY,GAAGD,kBAAkB,CAAC,MAAI,CAACN,KAAL,CAAWI,QAAX,CAAD,CAArC;AACAD,UAAAA,QAAQ,CAACK,IAAT,CAAcH,UAAU,GAAG,GAAb,GAAmBE,YAAjC;AACD;;AACDJ,QAAAA,QAAQ,GAAGA,QAAQ,CAACM,IAAT,CAAc,GAAd,CAAX;AAEAC,QAAAA,KAAK,CAACR,GAAD,EAAM;AACTS,UAAAA,MAAM,EAAE,MADC;AAETC,UAAAA,OAAO,EAAE;AACP,4BAAgB;AADT,WAFA;AAKTC,UAAAA,IAAI,EAAEV;AALG,SAAN,CAAL,CAMGW,IANH,CAMQ,UAASC,QAAT,EAAmB;AACzB,cAAIA,QAAQ,CAACC,MAAT,IAAmB,GAAvB,EAA4B;AAC1B,kBAAM,IAAIC,KAAJ,CAAU,0BAAV,CAAN;AACD,WAFD,MAEO,IAAIF,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAClC,mBAAOD,QAAQ,CAACG,IAAT,EAAP;AACD;AACF,SAZD,EAYGJ,IAZH,CAYQ,UAASsB,QAAT,EAAmB;AACzBT,UAAAA,IAAI,CAACrC,QAAL,CAAc;AAAC8C,YAAAA,QAAQ,EAARA;AAAD,WAAd;AACAtC,UAAAA,OAAO,CAACC,GAAR,CAAY4B,IAAI,CAAC3B,KAAjB;AACD,SAfD;AAgBD,OApCD;AAuCD;;;6BAEQ;AACP,UAAMqC,YAAY,GAAG,KAAKrC,KAAL,CAAWoC,QAAX,IAAuB,KAAKpC,KAAL,CAAWoC,QAAX,CAAoBE,GAApB,CAAwB,UAAC3C,OAAD,EAAU4C,KAAV;AAAA,eAAqB,oBAAC,QAAD;AAAU,UAAA,GAAG,EAAE5C,OAAO,CAAC6C,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACvF,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADuF,EAIvF,oBAAC,YAAD;AAAc,UAAA,OAAO,EAAE7C,OAAO,CAAC8C,KAA/B;AAAsC,UAAA,SAAS,EAAE9C,OAAO,CAACoC,QAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJuF,CAArB;AAAA,OAAxB,CAA5C;AAOA,aAAQ;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACN,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,KAAK,EAAC,SAA/B;AAAyC,QAAA,KAAK,EAAC,MAA/C;AAAsD,QAAA,KAAK,EAAE;AACzDW,UAAAA,IAAI,EAAE;AADmD,SAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAME,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,SAAd;AAAwB,QAAA,OAAO,EAAE,KAAKrD,iBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyD,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAzD,CANF,CADF,CADM,EAWZ;AAAK,QAAA,KAAK,EAAE;AAACsD,UAAAA,SAAS,EAAC;AAAX,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACM,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,YAAY,EAAC,cAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACa,KAAK3C,KAAL,CAAW+B,QADxB,CADN,EAIM,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,YAAY,EAAC,cAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACc,KAAK/B,KAAL,CAAWgC,KADzB,CAJN,EAOM,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,YAAY,EAAC,cAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACa,KAAKhC,KAAL,CAAWiC,KADxB,CAPN,EAUM,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,YAAY,EAAC,cAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACe,KAAKjC,KAAL,CAAWkC,SAD1B,CAVN,EAaM,oBAAC,UAAD;AAAY,QAAA,OAAO,EAAC,IAApB;AAAyB,QAAA,YAAY,EAAC,cAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACa,KAAKlC,KAAL,CAAWmC,OADxB,CAbN,CAXY,EA4BN,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AACTS,UAAAA,aAAa,EAAE;AADN,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGGP,YAHH,CA5BM,EAkCN,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAE,KAAKrC,KAAL,CAAWT,WAAzB;AAAsC,QAAA,OAAO,EAAE,KAAKC,kBAApD;AAAwE,2BAAgB,oBAAxF;AAA6G,4BAAiB,0BAA9H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AAAa,QAAA,EAAE,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA2B,SAA3B,CADF,EAEE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAW,QAAA,EAAE,EAAC,SAAd;AAAwB,QAAA,KAAK,EAAC,eAA9B;AAA8C,QAAA,KAAK,EAAE,KAAKQ,KAAL,CAAWL,OAAhE;AAAyE,QAAA,QAAQ,EAAE,KAAKF,mBAAxF;AAA6G,QAAA,SAAS,EAAC,WAAvH;AAAmI,QAAA,MAAM,EAAC,QAA1I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,EAOE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKQ,mBAAtB;AAA2C,QAAA,KAAK,EAAC,SAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAIE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,KAAKT,kBAAtB;AAA0C,QAAA,KAAK,EAAC,SAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJF,CAPF,CAlCM,CAAR;AAoDD;;;;EA9JgBtB,S;;AAiKnB,eAAeiB,IAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport {TextField, AppBar, Toolbar, Typography, List, ListItem, Avatar, ListItemText, Button,  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,} from '@material-ui/core';\r\nimport axios from 'axios';\r\nimport ChatBubbleIcon from '@material-ui/icons/ChatBubble';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nclass note extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      nid: 0,\r\n      commentOpen: false,\r\n      comment:\"\",\r\n      uid: this.props.location.state.uid\r\n    }\r\n  }\r\n\r\n  handleCommentOpen = () => {\r\n    this.setState({commentOpen: true});\r\n  };\r\n\r\n  handleCommentClose = () => {\r\n    this.setState({commentOpen: false});\r\n  };\r\n\r\n  handleCommentChange = event => {\r\n    this.setState({\r\n      comment: event.target.value\r\n    });\r\n    console.log(this.state);\r\n  }\r\n\r\n  handleCommentSubmit =() => {\r\n    var url = 'http://localhost:3000/querys/addcomment'\r\n    var formBody = [];\r\n    for (var property in this.state) {\r\n      var encodedKey = encodeURIComponent(property);\r\n      var encodedValue = encodeURIComponent(this.state[property]);\r\n      formBody.push(encodedKey + \"=\" + encodedValue);\r\n    }\r\n    formBody = formBody.join(\"&\");\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      },\r\n      body: formBody\r\n    }).then(function(response) {\r\n      if (response.status >= 400) {\r\n        throw new Error(\"Bad response from server\");\r\n      } else if (response.status === 200) {\r\n        return response.json()\r\n      }\r\n    }).then(function(nothing) {\r\n      window.location.reload();\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({nid:this.props.match.params.nid});\r\n    var that = this\r\n    var url = 'http://localhost:3000/querys/notes/'+this.props.match.params.nid;\r\n    axios.get(url).then(response => {\r\n      var result = response.data[0]\r\n      console.log(result);\r\n      this.setState({\r\n        username: result.username,\r\n        ntext: result.ntext,\r\n        lname: result.lname,\r\n        startdate: result.startdate,\r\n        enddate: result.enddate,\r\n      })\r\n\r\n      var url = 'http://localhost:3000/querys/getcomments'\r\n      var formBody = [];\r\n      for (var property in this.state) {\r\n        var encodedKey = encodeURIComponent(property);\r\n        var encodedValue = encodeURIComponent(this.state[property]);\r\n        formBody.push(encodedKey + \"=\" + encodedValue);\r\n      }\r\n      formBody = formBody.join(\"&\");\r\n\r\n      fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        body: formBody\r\n      }).then(function(response) {\r\n        if (response.status >= 400) {\r\n          throw new Error(\"Bad response from server\");\r\n        } else if (response.status === 200) {\r\n          return response.json()\r\n        }\r\n      }).then(function(comments) {\r\n        that.setState({comments});\r\n        console.log(that.state);\r\n      });\r\n    })\r\n\r\n\r\n  };\r\n\r\n  render() {\r\n    const ListComments = this.state.comments && this.state.comments.map((comment, index) => (<ListItem key={comment.cid}>\r\n      <Avatar>\r\n        <ChatBubbleIcon/>\r\n      </Avatar>\r\n      <ListItemText primary={comment.ctext} secondary={comment.username}/>\r\n    </ListItem>));\r\n\r\n    return (<div className=\"App\">\r\n      <AppBar position=\"fixed\">\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" color=\"inherit\" align=\"left\" style={{\r\n              flex: 1\r\n            }}>\r\n            Note\r\n          </Typography>\r\n          <Button color=\"inherit\" onClick={this.handleCommentOpen}><AddIcon/></Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n<div style={{marginTop:100}}>\r\n      <Typography variant=\"h6\" gutterBottom=\"gutterBottom\">\r\n        Username: {this.state.username}\r\n      </Typography>\r\n      <Typography variant=\"h6\" gutterBottom=\"gutterBottom\">\r\n        Note Text: {this.state.ntext}\r\n      </Typography>\r\n      <Typography variant=\"h6\" gutterBottom=\"gutterBottom\">\r\n        Location: {this.state.lname}\r\n      </Typography>\r\n      <Typography variant=\"h6\" gutterBottom=\"gutterBottom\">\r\n        Start time: {this.state.startdate}\r\n      </Typography>\r\n      <Typography variant=\"h6\" gutterBottom=\"gutterBottom\">\r\n        End time: {this.state.enddate}\r\n      </Typography>\r\n</div>\r\n      <List style={{\r\n          paddingBottom: '100px'\r\n        }}>\r\n        {ListComments}\r\n      </List>\r\n\r\n      <Dialog open={this.state.commentOpen} onClose={this.handleCommentClose} aria-labelledby=\"alert-dialog-title\" aria-describedby=\"alert-dialog-description\">\r\n        <DialogTitle id=\"comment\">{\"Comment\"}</DialogTitle>\r\n        <DialogContent>\r\n          <TextField id=\"comment\" label=\"Comment below\" value={this.state.comment} onChange={this.handleCommentChange} fullWidth=\"fullWidth\" margin=\"normal\"/>\r\n\r\n\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={this.handleCommentSubmit} color=\"primary\">\r\n            Apply\r\n          </Button>\r\n          <Button onClick={this.handleCommentClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n    </div>);\r\n  }\r\n}\r\n\r\nexport default note;\r\n"]},"metadata":{},"sourceType":"module"}