{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\src\\\\registration.js\";\nimport React, { Component } from 'react';\nimport logo from './logo.png';\nimport { TextField, Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle } from '@material-ui/core';\nimport { Redirect } from 'react-router';\n\nvar Registration =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Registration, _Component);\n\n  function Registration(props) {\n    var _this;\n\n    _classCallCheck(this, Registration);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Registration).call(this, props));\n\n    _this.handleClickOpen = function (str) {\n      _this.setState({\n        open: true\n      });\n\n      _this.setState({\n        dialogString: str\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.id, event.target.value));\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      console.log(_this.state);\n\n      var that = _assertThisInitialized(_assertThisInitialized(_this));\n\n      var url = 'http://localhost:3000/querys/signup';\n      var formBody = [];\n\n      for (var property in _this.state) {\n        var encodedKey = encodeURIComponent(property);\n        var encodedValue = encodeURIComponent(_this.state[property]);\n        formBody.push(encodedKey + \"=\" + encodedValue);\n      }\n\n      formBody = formBody.join(\"&\");\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: formBody\n      }).then(function (response) {\n        if (response.status >= 400) {\n          throw new Error(\"Bad response from server\");\n        } else if (response.status === 201) {\n          console.log('Username or email exist!');\n          that.handleClickOpen('Username or email exist!');\n        } else {\n          return response.json();\n        }\n      }).then(function (data) {\n        if (data) {\n          that.setState({\n            uid: data.uid\n          });\n          console.log(that.state.uid);\n          that.setState(function () {\n            return {\n              toMain: true\n            };\n          });\n        }\n      });\n    };\n\n    _this.state = {\n      username: \"\",\n      password: \"\",\n      email: \"\",\n      state: \"\",\n      city: \"\",\n      lat: 0,\n      lng: 0,\n      open: false,\n      dialogString: \"\",\n      toMain: false\n    };\n    return _this;\n  }\n\n  _createClass(Registration, [{\n    key: \"validateForm\",\n    value: function validateForm() {\n      return this.state.username.length > 0 && this.state.password.length > 0 && this.state.email.length > 0;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.toMain === true) {\n        return React.createElement(Redirect, {\n          to: {\n            pathname: \"/main\",\n            state: {\n              uid: this.state.uid\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: logo,\n        className: \"App-logo\",\n        alt: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        autoComplete: \"off\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        required: \"required\",\n        id: \"username\",\n        label: \"Username\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        value: this.state.username,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        required: \"required\",\n        id: \"password\",\n        label: \"Password\",\n        type: \"password\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        value: this.state.password,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        required: \"required\",\n        id: \"email\",\n        label: \"Email\",\n        type: \"email\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        value: this.state.email,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"state\",\n        label: \"State\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        value: this.state.state,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"city\",\n        label: \"City\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        value: this.state.city,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        disabled: !this.validateForm(),\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Sign up\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })), React.createElement(Dialog, {\n        open: this.state.open,\n        onClose: this.handleClose,\n        \"aria-labelledby\": \"alert-dialog-title\",\n        \"aria-describedby\": \"alert-dialog-description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        id: \"alert-dialog-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"Alert\"), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(DialogContentText, {\n        id: \"alert-dialog-description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, this.state.dialogString)), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.handleClose,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Close\"))), React.createElement(Button, {\n        variant: \"contained\",\n        color: \"secondary\",\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Back\"));\n    }\n  }]);\n\n  return Registration;\n}(Component);\n\nexport default Registration;","map":{"version":3,"sources":["C:\\Users\\user\\Desktop\\oingo\\oingo-backend\\client\\src\\registration.js"],"names":["React","Component","logo","TextField","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Redirect","Registration","props","handleClickOpen","str","setState","open","dialogString","handleClose","handleChange","event","target","id","value","handleSubmit","preventDefault","console","log","state","that","url","formBody","property","encodedKey","encodeURIComponent","encodedValue","push","join","fetch","method","headers","body","then","response","status","Error","json","data","uid","toMain","username","password","email","city","lat","lng","length","pathname","validateForm"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport logo from './logo.png';\r\nimport {\r\n  TextField,\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle\r\n} from '@material-ui/core';\r\nimport {Redirect} from 'react-router'\r\n\r\nclass Registration extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      email: \"\",\r\n      state: \"\",\r\n      city: \"\",\r\n      lat:0,\r\n      lng:0,\r\n      open: false,\r\n      dialogString: \"\",\r\n      toMain: false\r\n    };\r\n  }\r\n\r\n  handleClickOpen = (str) => {\r\n    this.setState({open: true});\r\n    this.setState({dialogString: str});\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({open: false});\r\n  };\r\n\r\n  validateForm() {\r\n    return this.state.username.length > 0 && this.state.password.length > 0 && this.state.email.length > 0;\r\n  }\r\n\r\n  handleChange = event => {\r\n    this.setState({\r\n      [event.target.id]: event.target.value\r\n    });\r\n  }\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    console.log(this.state);\r\n    var that = this;\r\n    var url = 'http://localhost:3000/querys/signup';\r\n    var formBody = [];\r\n    for (var property in this.state) {\r\n      var encodedKey = encodeURIComponent(property);\r\n      var encodedValue = encodeURIComponent(this.state[property]);\r\n      formBody.push(encodedKey + \"=\" + encodedValue);\r\n    }\r\n    formBody = formBody.join(\"&\");\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      },\r\n      body: formBody\r\n    }).then(function(response) {\r\n      if (response.status >= 400) {\r\n        throw new Error(\"Bad response from server\");\r\n      } else if (response.status === 201) {\r\n        console.log('Username or email exist!');\r\n        that.handleClickOpen('Username or email exist!');\r\n      } else {\r\n        return response.json();\r\n      }\r\n    }).then(function(data){\r\n      if (data) {\r\n        that.setState({uid: data.uid})\r\n        console.log(that.state.uid);\r\n        that.setState(() => ({toMain: true}));\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.toMain === true) {\r\n      return (<Redirect to={{\r\n          pathname: \"/main\",\r\n          state: {\r\n            uid: this.state.uid\r\n          }\r\n        }}/>);\r\n    }\r\n\r\n    return (<div className=\"App\">\r\n      <img src={logo} className=\"App-logo\" alt=\"logo\"/>\r\n      <form autoComplete=\"off\" onSubmit={this.handleSubmit}>\r\n        <TextField required=\"required\" id=\"username\" label=\"Username\" margin=\"normal\" variant=\"outlined\" value={this.state.username} onChange={this.handleChange}/>\r\n        <br/>\r\n        <TextField required=\"required\" id=\"password\" label=\"Password\" type=\"password\" margin=\"normal\" variant=\"outlined\" value={this.state.password} onChange={this.handleChange}/>\r\n        <br/>\r\n        <TextField required=\"required\" id=\"email\" label=\"Email\" type=\"email\" margin=\"normal\" variant=\"outlined\" value={this.state.email} onChange={this.handleChange}/>\r\n        <br/>\r\n        <TextField id=\"state\" label=\"State\" margin=\"normal\" variant=\"outlined\" value={this.state.state} onChange={this.handleChange}/>\r\n        <br/>\r\n        <TextField id=\"city\" label=\"City\" margin=\"normal\" variant=\"outlined\" value={this.state.city} onChange={this.handleChange}/>\r\n        <br/>\r\n        <br/>\r\n        <br/>\r\n        <Button variant=\"contained\" color=\"primary\" disabled={!this.validateForm()} type=\"submit\">\r\n          Sign up\r\n        </Button>\r\n        <br/>\r\n        <br/>\r\n      </form>\r\n\r\n      <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"alert-dialog-title\" aria-describedby=\"alert-dialog-description\">\r\n        <DialogTitle id=\"alert-dialog-title\">{\"Alert\"}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            {this.state.dialogString}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={this.handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Button variant=\"contained\" color=\"secondary\" href=\"/\">\r\n        Back\r\n      </Button>\r\n    </div>);\r\n  }\r\n}\r\n\r\nexport default Registration;\r\n"]},"metadata":{},"sourceType":"module"}