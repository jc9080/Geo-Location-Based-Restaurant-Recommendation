{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\oingo\\\\oingo-backend\\\\client\\\\src\\\\main.js\";\nimport React, { Component } from 'react';\nimport { BottomNavigation, BottomNavigationAction, Dialog, DialogActions, DialogContent, DialogTitle, Button, Fab, TextField } from '@material-ui/core';\nimport MapIcon from '@material-ui/icons/Map';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport SupervisedUserCircleIcon from '@material-ui/icons/SupervisedUserCircle';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport MapAndList from './mapandlist.js';\nimport Post from './post.js';\nimport Friends from './friends.js';\nimport Profile from './profile.js';\nimport axios from 'axios';\n\nvar Main =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Main, _Component);\n\n  function Main(props) {\n    var _this;\n\n    _classCallCheck(this, Main);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Main).call(this, props));\n\n    _this.handleCheatOpen = function () {\n      _this.setState({\n        cheatOpen: true\n      });\n    };\n\n    _this.handleCheatClose = function () {\n      _this.setState({\n        cheatOpen: false\n      });\n    };\n\n    _this.handleCheatApply = function () {\n      var that = _assertThisInitialized(_assertThisInitialized(_this));\n\n      navigator.geolocation.getCurrentPosition(function (event) {\n        var crd = event.coords;\n        var url = \"https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=\".concat(_this.state.lat, \",\").concat(_this.state.lng, \"&radius=500&key=AIzaSyAUAaYODAySdg0ICAX4u9ganJ7gQGFz834\");\n        axios.get(url).then(function (response) {\n          return _this.setState({\n            lname: response.data.results[0].name\n          });\n        });\n        console.log(_this.state);\n      });\n      var url = 'http://localhost:3000/querys/notesbyfilter';\n      var formBody = [];\n\n      for (var property in _this.state) {\n        var encodedKey = encodeURIComponent(property);\n        var encodedValue = encodeURIComponent(_this.state[property]);\n        formBody.push(encodedKey + \"=\" + encodedValue);\n      }\n\n      formBody = formBody.join(\"&\");\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: formBody\n      }).then(function (response) {\n        if (response.status >= 400) {\n          throw new Error(\"Bad response from server\");\n        } else if (response.status === 200) {\n          return response.json();\n        }\n      }).then(function (data) {\n        that.setState({\n          data: data\n        });\n      });\n      url = 'http://localhost:3000/querys/getuser';\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: formBody\n      }).then(function (response) {\n        if (response.status >= 400) {\n          throw new Error(\"Bad response from server\");\n        } else if (response.status === 200) {\n          return response.json();\n        }\n      }).then(function (user) {\n        that.setState({\n          user: user\n        });\n      });\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.id, event.target.value));\n    };\n\n    _this.handleValueChange = function (event, value) {\n      _this.setState({\n        value: value\n      });\n    };\n\n    _this.state = {\n      value: 0,\n      uid: _this.props.location.state.uid,\n      cheatOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(Main, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var that = this;\n      navigator.geolocation.getCurrentPosition(function (event) {\n        var crd = event.coords;\n\n        _this2.setState({\n          lat: crd.latitude,\n          lng: crd.longitude\n        });\n\n        var url = \"https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=\".concat(_this2.state.lat, \",\").concat(_this2.state.lng, \"&radius=500&key=AIzaSyAUAaYODAySdg0ICAX4u9ganJ7gQGFz834\");\n        axios.get(url).then(function (response) {\n          return _this2.setState({\n            lname: response.data.results[0].name\n          });\n        });\n        console.log(_this2.state);\n      });\n      var url = 'http://localhost:3000/querys/notesbyfilter';\n      var formBody = [];\n\n      for (var property in this.state) {\n        var encodedKey = encodeURIComponent(property);\n        var encodedValue = encodeURIComponent(this.state[property]);\n        formBody.push(encodedKey + \"=\" + encodedValue);\n      }\n\n      formBody = formBody.join(\"&\");\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: formBody\n      }).then(function (response) {\n        if (response.status >= 400) {\n          throw new Error(\"Bad response from server\");\n        } else if (response.status === 200) {\n          return response.json();\n        }\n      }).then(function (data) {\n        that.setState({\n          data: data\n        });\n      });\n      url = 'http://localhost:3000/querys/getuser';\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: formBody\n      }).then(function (response) {\n        if (response.status >= 400) {\n          throw new Error(\"Bad response from server\");\n        } else if (response.status === 200) {\n          return response.json();\n        }\n      }).then(function (user) {\n        that.setState({\n          user: user\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, this.state.value === 0 && React.createElement(MapAndList, {\n        uid: this.state.uid,\n        data: this.state.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }), this.state.value === 1 && React.createElement(Post, {\n        uid: this.state.uid,\n        lat: this.state.lat,\n        lng: this.state.lng,\n        lname: this.state.lname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }), this.state.value === 2 && React.createElement(Friends, {\n        uid: this.state.uid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }), this.state.value === 3 && React.createElement(Profile, {\n        user: this.state.user,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), React.createElement(Fab, {\n        color: \"primary\",\n        \"aria-label\": \"Add\",\n        onClick: this.handleCheatOpen,\n        style: {\n          margin: 0,\n          top: 'auto',\n          right: 20,\n          bottom: 80,\n          left: 'auto',\n          position: 'fixed'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(BugReportIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      })), React.createElement(BottomNavigation, {\n        id: \"value\",\n        value: this.state.value,\n        onChange: this.handleValueChange,\n        style: {\n          width: '100%',\n          position: 'fixed',\n          bottom: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(BottomNavigationAction, {\n        label: \"Map\",\n        icon: React.createElement(MapIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }), React.createElement(BottomNavigationAction, {\n        label: \"Post\",\n        icon: React.createElement(AddCircleIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }), React.createElement(BottomNavigationAction, {\n        label: \"Friends\",\n        icon: React.createElement(SupervisedUserCircleIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }), React.createElement(BottomNavigationAction, {\n        label: \"Profile\",\n        icon: React.createElement(AccountCircleIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      })), React.createElement(Dialog, {\n        open: this.state.cheatOpen,\n        onClose: this.handleCheatClose,\n        \"aria-labelledby\": \"alert-dialog-title\",\n        \"aria-describedby\": \"alert-dialog-description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        id: \"Cheat\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"Cheat\"), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"uid\",\n        label: \"uid\",\n        value: this.state.uid,\n        onChange: this.handleChange,\n        fullWidth: \"fullWidth\",\n        margin: \"normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"lat\",\n        label: \"lat\",\n        value: this.state.lat,\n        onChange: this.handleChange,\n        fullWidth: \"fullWidth\",\n        margin: \"normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }), React.createElement(TextField, {\n        id: \"lng\",\n        label: \"lng\",\n        value: this.state.lng,\n        onChange: this.handleChange,\n        fullWidth: \"fullWidth\",\n        margin: \"normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      })), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.handleCheatApply,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Apply\"), React.createElement(Button, {\n        onClick: this.handleCheatClose,\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, \"Close\"))));\n    }\n  }]);\n\n  return Main;\n}(Component);\n\nexport default Main;","map":{"version":3,"sources":["C:\\Users\\user\\Desktop\\oingo\\oingo-backend\\client\\src\\main.js"],"names":["React","Component","BottomNavigation","BottomNavigationAction","Dialog","DialogActions","DialogContent","DialogTitle","Button","Fab","TextField","MapIcon","AddCircleIcon","AccountCircleIcon","SupervisedUserCircleIcon","BugReportIcon","MapAndList","Post","Friends","Profile","axios","Main","props","handleCheatOpen","setState","cheatOpen","handleCheatClose","handleCheatApply","that","navigator","geolocation","getCurrentPosition","event","crd","coords","url","state","lat","lng","get","then","response","lname","data","results","name","console","log","formBody","property","encodedKey","encodeURIComponent","encodedValue","push","join","fetch","method","headers","body","status","Error","json","user","handleChange","target","id","value","handleValueChange","uid","location","latitude","longitude","margin","top","right","bottom","left","position","width"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {\r\n  BottomNavigation,\r\n  BottomNavigationAction,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Button,\r\n  Fab,\r\n  TextField\r\n} from '@material-ui/core';\r\nimport MapIcon from '@material-ui/icons/Map';\r\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport SupervisedUserCircleIcon from '@material-ui/icons/SupervisedUserCircle';\r\nimport BugReportIcon from '@material-ui/icons/BugReport';\r\n\r\nimport MapAndList from './mapandlist.js';\r\nimport Post from './post.js';\r\nimport Friends from './friends.js';\r\nimport Profile from './profile.js';\r\nimport axios from 'axios';\r\n\r\nclass Main extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: 0,\r\n      uid: this.props.location.state.uid,\r\n      cheatOpen: false\r\n    }\r\n  };\r\n\r\n  handleCheatOpen = () => {\r\n    this.setState({cheatOpen: true});\r\n  };\r\n\r\n  handleCheatClose = () => {\r\n    this.setState({cheatOpen: false});\r\n  };\r\n\r\n  handleCheatApply = () => {\r\n    var that = this;\r\n    navigator.geolocation.getCurrentPosition(event => {\r\n      var crd = event.coords;\r\n      const url = `https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=${this.state.lat},${this.state.lng}&radius=500&key=AIzaSyAUAaYODAySdg0ICAX4u9ganJ7gQGFz834`\r\n      axios.get(url).then(response => this.setState({lname: response.data.results[0].name}))\r\n      console.log(this.state);\r\n    });\r\n    var url = 'http://localhost:3000/querys/notesbyfilter'\r\n    var formBody = [];\r\n    for (var property in this.state) {\r\n      var encodedKey = encodeURIComponent(property);\r\n      var encodedValue = encodeURIComponent(this.state[property]);\r\n      formBody.push(encodedKey + \"=\" + encodedValue);\r\n    }\r\n    formBody = formBody.join(\"&\");\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      },\r\n      body: formBody\r\n    }).then(function(response) {\r\n      if (response.status >= 400) {\r\n        throw new Error(\"Bad response from server\");\r\n      } else if (response.status === 200) {\r\n        return response.json()\r\n      }\r\n    }).then(function(data) {\r\n      that.setState({data});\r\n    });\r\n\r\n    url = 'http://localhost:3000/querys/getuser'\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      },\r\n      body: formBody\r\n    }).then(function(response) {\r\n      if (response.status >= 400) {\r\n        throw new Error(\"Bad response from server\");\r\n      } else if (response.status === 200) {\r\n        return response.json()\r\n      }\r\n    }).then(function(user) {\r\n      that.setState({user});\r\n    });\r\n\r\n  };\r\n\r\n  componentDidMount() {\r\n    var that = this;\r\n    navigator.geolocation.getCurrentPosition(event => {\r\n      var crd = event.coords;\r\n      this.setState({lat: crd.latitude, lng: crd.longitude})\r\n      const url = `https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=${this.state.lat},${this.state.lng}&radius=500&key=AIzaSyAUAaYODAySdg0ICAX4u9ganJ7gQGFz834`\r\n      axios.get(url).then(response => this.setState({lname: response.data.results[0].name}))\r\n      console.log(this.state);\r\n    });\r\n    var url = 'http://localhost:3000/querys/notesbyfilter'\r\n    var formBody = [];\r\n    for (var property in this.state) {\r\n      var encodedKey = encodeURIComponent(property);\r\n      var encodedValue = encodeURIComponent(this.state[property]);\r\n      formBody.push(encodedKey + \"=\" + encodedValue);\r\n    }\r\n    formBody = formBody.join(\"&\");\r\n\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      },\r\n      body: formBody\r\n    }).then(function(response) {\r\n      if (response.status >= 400) {\r\n        throw new Error(\"Bad response from server\");\r\n      } else if (response.status === 200) {\r\n        return response.json()\r\n      }\r\n    }).then(function(data) {\r\n      that.setState({data});\r\n    });\r\n\r\n    url = 'http://localhost:3000/querys/getuser'\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded'\r\n      },\r\n      body: formBody\r\n    }).then(function(response) {\r\n      if (response.status >= 400) {\r\n        throw new Error(\"Bad response from server\");\r\n      } else if (response.status === 200) {\r\n        return response.json()\r\n      }\r\n    }).then(function(user) {\r\n      that.setState({user});\r\n    });\r\n\r\n  }\r\n\r\n  handleChange = event => {\r\n    this.setState({\r\n      [event.target.id]: event.target.value\r\n    });\r\n  };\r\n\r\n  handleValueChange = (event, value) => {\r\n    this.setState({ value });\r\n  };\r\n\r\n  render() {\r\n    return (<div className=\"App\">\r\n      {this.state.value === 0 && <MapAndList uid={this.state.uid} data={this.state.data}/>}\r\n      {this.state.value === 1 && <Post uid={this.state.uid} lat={this.state.lat} lng={this.state.lng} lname={this.state.lname}/>}\r\n      {this.state.value === 2 && <Friends uid={this.state.uid}/>}\r\n      {this.state.value === 3 && <Profile user={this.state.user}/>}\r\n      <Fab color=\"primary\" aria-label=\"Add\" onClick={this.handleCheatOpen} style={{\r\n          margin: 0,\r\n          top: 'auto',\r\n          right: 20,\r\n          bottom: 80,\r\n          left: 'auto',\r\n          position: 'fixed'\r\n        }}>\r\n        <BugReportIcon/>\r\n      </Fab>\r\n\r\n      <BottomNavigation id=\"value\" value={this.state.value} onChange={this.handleValueChange} style={{\r\n          width: '100%',\r\n          position: 'fixed',\r\n          bottom: 0\r\n        }}>\r\n        <BottomNavigationAction label=\"Map\" icon={<MapIcon />}/>\r\n        <BottomNavigationAction label=\"Post\" icon={<AddCircleIcon />}/>\r\n        <BottomNavigationAction label=\"Friends\" icon={<SupervisedUserCircleIcon />}/>\r\n        <BottomNavigationAction label=\"Profile\" icon={<AccountCircleIcon />}/>\r\n      </BottomNavigation>\r\n\r\n      <Dialog open={this.state.cheatOpen} onClose={this.handleCheatClose} aria-labelledby=\"alert-dialog-title\" aria-describedby=\"alert-dialog-description\">\r\n        <DialogTitle id=\"Cheat\">{\"Cheat\"}</DialogTitle>\r\n        <DialogContent>\r\n          <TextField id=\"uid\" label=\"uid\" value={this.state.uid} onChange={this.handleChange} fullWidth=\"fullWidth\" margin=\"normal\"/>\r\n          <TextField id=\"lat\" label=\"lat\" value={this.state.lat} onChange={this.handleChange} fullWidth=\"fullWidth\" margin=\"normal\"/>\r\n          <TextField id=\"lng\" label=\"lng\" value={this.state.lng} onChange={this.handleChange} fullWidth=\"fullWidth\" margin=\"normal\"/>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={this.handleCheatApply} color=\"primary\">\r\n            Apply\r\n          </Button>\r\n          <Button onClick={this.handleCheatClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>);\r\n  }\r\n}\r\n\r\nexport default Main;\r\n"]},"metadata":{},"sourceType":"module"}